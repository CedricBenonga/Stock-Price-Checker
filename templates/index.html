{% extends 'base.html' %}
{% import "bootstrap5/form.html" as wtf %}

{% block content %}
{% include "header.html" %}

<!-- Symbols detailed -->
<section>
    <container>
        <div>
            <a class="btn btn-outline-dark" href="{{url_for('check_stock')}}"
                    style="background: #fff; margin-top: 20px; margin-left: 20px; border-radius: 5%; color: #000;"
                    onMouseOut="this.style.color='#000'"
                    onMouseOver="this.style.color='#999'">Stock names & Symbols
            </a>
        </div>
    </container>
</section>
<!--  Symbols detailed -->

{% if not data %}
<!-- Task section -->
<div class="container task">
    <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
            <!-- Title -->
            <h1>Welcome to Our<br> Stock Price Checker!</h1><br>
            <h5>Please fill up the form below and get details of your favorite stock.</h5>
        </div>
    </div>
</div>

<!--Creating form with a customized button and a pop-up error message-->
<div class="container" style="margin-top: 100px;">
    <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto content">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                {% for message in messages %}
                <p>{{ message }}</p>
                {% endfor %}
                {% endif %}
                {% endwith %}
            {{ wtf.render_form(form, novalidate=True, button_map={"submit": "btn btn-outline-dark"}) }}
        </div>
    </div>
</div>
<!-- End of form -->
{% endif %}
<div class="container task">
    <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
            <!-- Title -->
            <h1>Here are details for your selected stock!</h1><br>
        </div>
    </div>
</div>

<div class="container" style="padding-top: 0px; padding-bottom: 100px;">
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-sm-1 g-200">
        {% for d in data %}
        <div class="col" style="height: 30px;">
            <p>{{ d }}</p>
        </div>
        {% endfor %}
    </div>
</div>

{% include "footer.html" %}
{% endblock %}